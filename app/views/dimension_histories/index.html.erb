<div class="container mt-4" data-controller="form">
  <h1>Form</h1>

  <%= form_with(url: get_dimensions_dimension_histories_path, method: :get, id: "dimension-history-form", 
  data: { controller: "dimension-form", action: "submit->dimension-form#submit" }, class: "mb-4") do |form| %>   
    <div class="row">
      <div class="col-md-12 mb-2">
        <div class="form-group">
          <%= form.label :url, "URL:", class: "form-label" %>
          <%= form.text_field :url, class: "form-control", data: { target: "form.url" } %>
          <div id="url-error" class="text-danger"></div>
        </div>
      </div>

      <div class="col-md-6 mb-2">
        <div class="form-group">
          <%= form.label :height, "Height:", class: "form-label" %>
          <%= form.text_field :height, class: "form-control", data: { target: "form.height" } %>
          <div id="height-error" class="text-danger"></div>
        </div>
      </div>

      <div class="col-md-6 mb-2">
        <div class="form-group">
          <%= form.label :width, "Width:", class: "form-label" %>
          <%= form.text_field :width, class: "form-control", data: { target: "form.width" } %>
          <div id="width-error" class="text-danger"></div>
        </div>
      </div>

      <div class="col-md-6 mb-2">
        <div class="form-group">
          <%= form.label :length, "Length:", class: "form-label" %>
          <%= form.text_field :length, class: "form-control", data: { target: "form.length" } %>
          <div id="length-error" class="text-danger"></div>
        </div>
      </div>

      <div class="col-md-6 mb-2">
        <div class="form-group">
          <%= form.label :weight, "Weight:", class: "form-label" %>
          <%= form.text_field :weight, class: "form-control", data: { target: "form.weight" } %>
          <div id="weight-error" class="text-danger"></div>
        </div>
      </div>

      <div class="col-md-12">
        <%= form.submit "Get Dimensions", class: "btn btn-primary" %>
      </div>
    </div>
  <% end %>

  <!-- Display flash messages -->
  <% if flash[:notice] %>
    <div class="alert alert-success" role="alert">
      <%= flash[:notice] %>
    </div>
  <% elsif flash[:alert] %>
    <div class="alert alert-danger" role="alert">
      <%= flash[:alert] %>
    </div>
  <% end %>

  <!-- Display API result -->
  <div id="result-section" data-dimension-form-target="resultSection" class="mt-4">
    <!-- Kết quả từ API sẽ được hiển thị ở đây -->
  </div>


  <!-- Bảng Dimension Histories -->
  <div id="dimension-history-table">
    <%= render partial: 'dimension_histories/table' %>
  </div>
</div>
