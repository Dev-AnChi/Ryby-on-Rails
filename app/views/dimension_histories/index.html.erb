<div class="container mt-4">
  <h1>Form</h1>

  <%= form_tag({ controller: 'dimension_histories', action: 'get_dimensions' }, method: 'post', class: 'mb-4', remote: true) do %>
    <div class="row">
      <div class="col-md-3 mb-2">
        <%= label_tag 'url', 'URL:', class: 'form-label' %>
        <%= text_field_tag 'url', nil, class: 'form-control' %>
      </div>

      <div class="col-md-3 mb-2">
        <%= label_tag 'height', 'Height:', class: 'form-label' %>
        <%= text_field_tag 'height', nil, class: 'form-control' %>
      </div>

      <div class="col-md-3 mb-2">
        <%= label_tag 'width', 'Width:', class: 'form-label' %>
        <%= text_field_tag 'width', nil, class: 'form-control' %>
      </div>

      <div class="col-md-3 mb-2">
        <%= label_tag 'length', 'Length:', class: 'form-label' %>
        <%= text_field_tag 'length', nil, class: 'form-control' %>
      </div>

      <div class="col-md-3 mb-2">
        <%= label_tag 'weight', 'Weight:', class: 'form-label' %>
        <%= text_field_tag 'weight', nil, class: 'form-control' %>
      </div>

      <div class="col-md-3">
        <%= submit_tag 'Get Dimensions', class: 'btn btn-primary' %>
      </div>
    </div>
  <% end %>

  <!-- Hiển thị kết quả API -->
  <% if @api_result %>
    <div class="mt-4">
      <h2>Result:</h2>
      <pre><%= @api_result %></pre>
    </div>
  <% end %>

  <h1 class="mt-4">Dimension Histories</h1>

  <!-- Bảng Dimension Histories -->
  <table class="table">
    <thead>
      <tr>
        <th>URL</th>
        <th>Datetime</th>
        <th>Mac Address</th>
        <th>Result Code</th>
        <th>Result Name</th>
        <th>Width</th>
        <th>Length</th>
        <th>Height</th>
        <th>Weight</th>
      </tr>
    </thead>
    <tbody>
      <% @dimension_histories.each do |history| %>
        <tr>
          <td><%= history.url %></td>
          <td><%= history.datetime %></td>
          <td><%= history.mac_address %></td>
          <td><%= history.result_code %></td>
          <td><%= history.result_name %></td>
          <td><%= history.width %></td>
          <td><%= history.length %></td>
          <td><%= history.height %></td>
          <td><%= history.weight %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
